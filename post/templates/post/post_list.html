<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>post_list</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <nav class="bg-gray-800 text-white flex justify-end space-x-5">
        {% if request.user.is_authenticated %}
        <div style="background-color: antiquewhite; border-radius: 100%;"><a href="#">{{ request.user.image }}</a></div> <!-- 누르면 마이페이지로 이동-->
        <div>{{ request.user.username }}</div>
        <form action="/user/signout/" method="post">
            {% csrf_token %}
            <button>로그아웃하기</button>
            
        </form>
        {% else %}
        <h1>비회원모드</h1>
        <div>
            <a href="/user/signin/">로그인</a>
            <a href="/user/signup/">회원가입</a>
        </div>
        {% endif %}
        </nav>
    
        {% block content %}
    
        {% endblock %}
    <h3>post_list</h3>
    
    

    <table class="table">
        <thead>
            <!-- <tr onclick="location.href='https://www.naver.com/'" style="cursor:hand"> -->
            <tr>
                <th scope="col">#</th>
                <th scope="col">제목</th>
                <th scope="col">내용</th>
                <th scope="col">날짜</th>
            </tr>
        </thead>
        <tbody>
            {% for class in post_list %}
            <tr>
                <th scope="row">{{class.id }}</th>
                    <td><a href="#">{{class.title }}</a></td> <!-- 클릭해서 상세 -->
                    <td>{{class.user.username }}</td>
                    <td>{{class.updated_at }}</td>
                </tr>
                {% endfor %}
            </tbody>
      </table>

      <br>
            {% if request.user.is_authenticated %}
            <form action="/post/create/" method="post">
                {% csrf_token %}
                <button type="submit">글쓰기</button>
                
            </form>
            {% else %}
            <h1>비회원모드</h1>
            <div>
                
                <button onclick="return alert('로그인 후 작성 가능합니당~~');">글쓰기</button>
            </div>
            {% endif %}


      <footer class="bg-white rounded-lg shadow m-4 dark:bg-gray-800">
        <div class="w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between">
            <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2023 <a href="https://flowbite.com/" class="hover:underline">Flowbite™</a>. All Rights Reserved.
        </span>
        <ul class="flex flex-wrap items-center mt-3 text-sm font-medium text-gray-500 dark:text-gray-400 sm:mt-0">
            <li>
                <a href="#" class="mr-4 hover:underline md:mr-6 ">About</a>
            </li>
            <li>
                <a href="#" class="mr-4 hover:underline md:mr-6">Privacy Policy</a>
            </li>
            <li>
                <a href="#" class="mr-4 hover:underline md:mr-6">Licensing</a>
            </li>
            <li>
                <a href="#" class="hover:underline">Contact</a>
            </li>
        </ul>
        </div>
    </footer>
    </body>
</html>